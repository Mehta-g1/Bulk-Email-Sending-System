{% extends 'Home/base.html' %}
{% load static %}

{% block title %}Documentation - Email Sender{% endblock %}

{% block content %}
<style>
    /* --- General & Typography --- */
    .documentation-body {
        background-color: #1a1a1b; /* Slightly off-black for depth */
        color: #e8e6e3;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    section .card {
        border: 1px solid #343a40;
        border-radius: 0.5rem;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    section .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    h2, h4, h5 {
        font-weight: 600;
    }
    h2 .fas, h2 .fa-solid {
        color: #0d6efd; /* Bootstrap primary for accent */
        margin-right: 0.75rem;
    }
    a {
        color: #3da9fc;
        text-decoration: none;
    }
    a:hover {
        color: #6bc1ff;
        text-decoration: underline;
    }

    /* --- Sidebar Navigation --- */
    .sticky-top .card {
        border-radius: 0.5rem;
    }
    .list-group-item-dark-custom {
        background-color: #2c3034;
        color: #f8f9fa;
        border-color: #3a4045;
        border-left: 3px solid transparent;
        transition: all 0.2s ease;
        padding: 0.85rem 1.25rem;
    }
    .list-group-item-dark-custom:hover,
    .list-group-item-dark-custom:focus {
        background-color: #3a4045;
        color: #ffffff;
        border-left: 3px solid #0d6efd;
        transform: translateX(5px);
    }

    /* --- Card & Content Styling --- */
    .card-header-dark-custom {
        background-color: #212529; /* Darker header for contrast */
        border-bottom: 1px solid #454d55;
        padding: 1.25rem;
    }
    .card-body ul, .card-body ol {
        padding-left: 1.5rem;
    }
    .card-body li {
        margin-bottom: 0.75rem;
        line-height: 1.6;
    }
    pre.code-block {
        background-color: #111;
        color: #f8f9fa;
        padding: 1rem;
        border-radius: 0.3rem;
        border: 1px solid #444;
        white-space: pre-wrap;
    }
</style>

<div class="container my-5 text-white">
    <div class="row">
        <div class="col-lg-3">
            <div class="sticky-top" style="top: 2rem;">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h5><i class="fas fa-compass fa-fw me-2"></i> Navigation</h5>
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="#introduction" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-rocket fa-fw me-2"></i> Introduction</a>
                        <a href="#features" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-star fa-fw me-2"></i> Key Features</a>
                        <a href="#user-manual" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-book-open fa-fw me-2"></i> User Manual</a>
                        <a href="#bulk-add" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-file-csv fa-fw me-2"></i> Bulk Add</a>
                        <a href="#app-password" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-key fa-fw me-2"></i> App Passwords</a>
                        <a href="#backend" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-cogs fa-fw me-2"></i> Backend</a>
                        <a href="#rules" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-gavel fa-fw me-2"></i> Rules of Use</a>
                        <a href="#developer" class="list-group-item list-group-item-action list-group-item-dark-custom"><i class="fas fa-laptop-code fa-fw me-2"></i> Developer</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-9">
            <!-- Introduction Section -->
            <section id="introduction" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-rocket"></i> Bulk Email Sending System</h2>
                    </div>
                    <div class="card-body">
                        <p class="lead">Bulk Email Sending System designed to streamline the process of sending personalized emails to a large number of recipients. It provides a user-friendly interface for managing users, creating email templates, handling recipient lists, and sending emails efficiently.</p>
                        <p>Built with the powerful Django framework, it ensures security, scalability, and maintainability. The system is ideal for marketing campaigns, newsletters, notifications, and any scenario requiring mass email distribution.</p>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section id="features" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-star"></i> Key Features</h2>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><strong>User Authentication:</strong> Secure user registration, login, and session management. Includes password reset functionality via email.</li>
                            <li><strong>Profile Management:</strong> Users can view and update their profile information, including changing their password.</li>
                            <li><strong>Dashboard:</strong> A central hub for users to get an overview of their activity, manage recipients, and handle email templates.</li>
                            <li><strong>Template Management:</strong> Full CRUD (Create, Read, Update, Delete) for reusable email templates with dynamic placeholders.</li>
                            <li><strong>Recipient Management:</strong> Full CRUD for recipients. Add individually or in bulk using CSV or XLSX files.</li>
                            <li><strong>Personalized Emails:</strong> Use placeholders in templates (e.g., `{{name}}`) to send personalized content to each recipient.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- User Manual Section -->
            <section id="user-manual" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-book-open"></i> Your Step-by-Step Guide</h2>
                    </div>
                    <div class="card-body">
                        <p class="lead">Welcome aboard! Think of this guide as your personal walkthrough to becoming a pro at using the Email Sender. Let's get you started.</p>
                        
                        <hr class="my-4">

                        <h4 class="mt-3">Part 1: Getting Your Account Ready</h4>
                        <p>Everything starts with your account. Follow these steps to get set up in just a couple of minutes.</p>
                        <ol>
                            <li><strong>Signing Up:</strong> Head to the "Sign Up" page. You'll be asked for some basic info: your name, a username for the platform, your email address, and a secure password. Fill that in, and you're in!</li>
                            <li><strong>Logging In:</strong> Once you've signed up, you can log in anytime from the "Login" page using your email and the password you created.</li>
                            <li><strong>Spruce Up Your Profile:</strong> After you log in, you'll land on your Dashboard. We recommend heading over to "Edit Profile" to add more details about yourself. You can upload a profile picture, add your phone number, address, and more. This is great for personalizing your presence.</li>
                            <li><strong>CRUCIAL - Set Your Sending Credentials:</strong> Before you can send any emails, you need to tell the system which email account to send from. Go to your <strong>Account Settings</strong> page. Here, you must enter the email address you want to send from and, most importantly, an <strong>App Password</strong> for that account. Not sure what that is? No worries, just jump to the <a href="#app-password">App Password section</a> for a full explanation.</li>
                        </ol>

                        <hr class="my-4">

                        <h4 class="mt-3">Part 2: Crafting Your Messages (Managing Templates)</h4>
                        <p>Templates are your best friend for saving time. Instead of writing the same email over and over, you create a template once and reuse it whenever you want.</p>
                        <ul>
                            <li><strong>Finding Your Templates:</strong> On your dashboard, you'll see a section for "Templates". Click it to go to your template manager.</li>
                            <li><strong>Creating a New Template:</strong> Hit the "Add Template" button. You'll see a simple form.
                                <ul>
                                    <li><strong>Name:</strong> This is just for you, so you can easily identify the template later (e.g., "Monthly Newsletter").</li>
                                    <li><strong>Subject:</strong> This is the actual subject line your recipients will see. Make it catchy!</li>
                                    <li><strong>Body:</strong> This is the content of your email.</li>
                                </ul>
                            </li>
                            <li><strong>The Magic of Personalization:</strong> In the body of your email, you can use placeholders like `{{name}}`. When you send your email, the system will automatically replace this with each recipient's actual name. It makes a bulk email feel personal! You can also use `{{email}}` and `{{comment}}`.</li>
                            <li><strong>Editing and Deleting:</strong> Your list of templates is easy to manage. If you need to make a change, just click "Edit". If you're done with a template, click "Delete". We'll always ask you to confirm before permanently removing anything.</li>
                        </ul>

                        <hr class="my-4">

                        <h4 class="mt-3">Part 3: Building Your Audience (Managing Recipients)</h4>
                        <p>Now that you have a message, you need people to send it to. Let's look at how to manage your recipient lists.</p>
                        <ul>
                            <li><strong>Finding Your Recipients:</strong> From the dashboard, click on the "Recipients" section.</li>
                            <li><strong>Adding One by One:</strong> If you just met someone new, click "Add Recipient" and fill in their details. It's quick and easy for single entries.</li>
                            <li><strong>The Time-Saver - Bulk Upload:</strong> Have a whole list of people? Use the "Add in Bulk" feature. You'll need to upload a CSV or XLSX file. For the exact format (it's very specific!), please check the <a href="#bulk-add">Bulk Add section</a> below. This is the most powerful way to build your audience quickly.</li>
                            <li><strong>Keeping Your List Clean:</strong> Made a typo in someone's email? No problem. Find them in the list and click "Edit". If someone asks to be removed, just click "Delete" to take them off your list respectfully.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Bulk Add Section -->
            <section id="bulk-add" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-file-csv"></i> Bulk Add (CSV/XLSX) File Structure</h2>
                    </div>
                    <div class="card-body">
                        <p>To add recipients in bulk, you must structure your CSV or XLSX file with the following columns in this exact order. The header row is mandatory.</p>
                        <div class="alert alert-secondary">
                            <strong>Note:</strong> The `email` column is the only mandatory field. Other fields are optional but recommended for personalization.
                        </div>
                        <pre class="code-block"><code>email,name,receipent_category,source,comment</code></pre>
                        <h5>Example:</h5>
                        <table class="table table-bordered table-dark">
                            <thead>
                                <tr>
                                    <th>email</th>
                                    <th>name</th>
                                    <th>receipent_category</th>
                                    <th>comment</th></tr>
                                </thead>
                            <tbody>
                                <tr>
                                    <td>john.doe@example.com</td>
                                    <td>John Doe</td>
                                    <td>Customer</td>
                                    <td>Interested in product A.</td>
                                </tr>
                                <tr>
                                    <td>jane.smith@example.com</td>
                                    <td>Jane Smith</td>
                                    <td>Subscriber</td>
                                    <td>Signed up on 2024-10-10.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- App Password Section -->
            <section id="app-password" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-key"></i> What is an App Password?</h2>
                    </div>
                    <div class="card-body">
                        <p>For sending emails through services like Gmail, Outlook, or Yahoo, you cannot use your regular account password directly in this application, especially if you have Two-Factor Authentication (2FA) enabled.</p>
                        <p>An <strong>App Password</strong> is a 16-digit code that gives a third-party app (like this one) permission to access your email account. It's a security measure that allows you to send emails without exposing your main password.</p>
                        <h5>How to Get an App Password (for Gmail):</h5>
                        <ol>
                            <li>Go to your Google Account settings: <a href="https://myaccount.google.com/" target="_blank">myaccount.google.com</a>.</li>
                            <li>Navigate to the "Security" section.</li>
                            <li>Under "Signing in to Google," make sure "2-Step Verification" is turned ON. You cannot create App Passwords without it.</li>
                            <li>On the same page, find and click on "App passwords".</li>
                            <li>When prompted, select "Mail" for the app and "Other (Custom name)" for the device. Give it a name like "Django Email Sender".</li>
                            <li>Google will generate a 16-digit password. Copy this password (without spaces) and use it as your `EMAIL_HOST_PASSWORD` in the application's settings.</li>
                        </ol>
                        <div class="alert alert-warning"><strong>Important:</strong> Treat this App Password like a real password. Do not share it. You will enter it into the `EMAIL_HOST_PASSWORD` field in your user account settings within this application.</div>
                    </div>
                </div>
            </section>

            <!-- Backend Operations Section -->
            <section id="backend" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-cogs"></i> Backend Operations</h2>
                    </div>
                    <div class="card-body">
                        <p>The application is powered by the following technologies:</p>
                        <ul>
                            <li><strong>Framework:</strong> Django 4+</li>
                            <li><strong>Language:</strong> Python 3.10+</li>
                            <li><strong>Database:</strong> SQLite (default)</li>
                            <li><strong>Email Protocol:</strong> SMTP, using Django's built-in email libraries. The user provides their email credentials (including an App Password) which are used to send emails.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Rules of Use Section -->
            <section id="rules" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-gavel"></i> Rules of Use</h2>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li>Do not use this service for sending unsolicited spam.</li>
                            <li>Ensure you have consent from recipients before adding them to your lists.</li>
                            <li>You are responsible for securing your account and your App Password.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Developer Info Section -->
            <section id="developer" class="mb-5">
                <div class="card bg-dark text-white">
                    <div class="card-header card-header-dark-custom">
                        <h2><i class="fas fa-laptop-code"></i> Developer Info</h2>
                    </div>
                    <div class="card-body">
                        <p>This application was developed by <strong><a target="_blank" href="https://portfolio-gxln.onrender.com/">Vikash Mehta</a></strong>.</p>
                        <p>For inquiries, you can visit the <a href="{% url 'contact_us' %}">Contact Us</a> page or connect via GitHub.</p>
                        <a href="https://github.com/Mehta-g1/Bulk-Email-Sending-System.git" class="btn btn-light"><i class="fab fa-github"></i> GitHub Repository</a>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}
